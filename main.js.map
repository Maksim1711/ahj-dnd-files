{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ahj-dnd-files/./src/js/app.js","webpack://ahj-dnd-files/./src/js/Boards.js"],"sourcesContent":["import Boards from './Boards';\n\nconst boards = new Boards(document.querySelector('.boards'));\nboards.init();\nboards.tasks = [\n  ['Lorem ipsum dolor sit amet consectetur, adipisicing elit. Laboriosam, aliquam.', 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Non nam aut quisquam ipsam illum odio!', 'Lorem ipsum dolor sit.', 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Adipisci ab rerum dicta', 'Lorem ipsum dolor sit amet consectetur.'],\n  ['Lorem ipsum dolor sit amet consectetur adipisicing elit.', 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam.', 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Architecto, natus eaque?', 'Lorem ipsum dolor sit amet consectetur.'],\n  ['Welcome to Trello', 'Thid is a card'],\n];\nboards.render();\n","export default class Boards {\n  constructor(element) {\n    this.boards = element;\n    this.columns = element.querySelectorAll('.boards__list');\n    this.add = element.querySelectorAll('.boards__add');\n    this.tasks = [\n      ['Lorem ipsum dolor sit amet consectetur, adipisicing elit. Laboriosam, aliquam.', 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Non nam aut quisquam ipsam illum odio!', 'Lorem ipsum dolor sit.', 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Adipisci ab rerum dicta', 'Lorem ipsum dolor sit amet consectetur.'],\n      ['Lorem ipsum dolor sit amet consectetur adipisicing elit.', 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam.', 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Architecto, natus eaque?', 'Lorem ipsum dolor sit amet consectetur.'],\n      ['Welcome to Trello', 'Thid is a card'],\n    ];\n\n    this.addItem = this.addItem.bind(this);\n    this.addItemSubmit = this.addItemSubmit.bind(this);\n    this.addItemClose = this.addItemClose.bind(this);\n    this.closeItemMouseOver = this.closeItemMouseOver.bind(this);\n    this.closeItemMouseOut = this.closeItemMouseOut.bind(this);\n    this.closeItem = this.closeItem.bind(this);\n    this.loadTasks = this.loadTasks.bind(this);\n    this.saveTasks = this.saveTasks.bind(this);\n    this.dragStart = this.dragStart.bind(this);\n    this.dragMove = this.dragMove.bind(this);\n    this.dragFinish = this.dragFinish.bind(this);\n    this.dragTakePlace = this.dragTakePlace.bind(this);\n    this.dragPlaceRemove = this.dragPlaceRemove.bind(this);\n  }\n\n  init() {\n    document.addEventListener('DOMContentLoaded', this.loadTasks);\n    window.addEventListener('beforeunload', this.saveTasks);\n\n    this.render();\n\n    [...this.add].forEach((element) => { element.addEventListener('click', this.addItem); });\n    [...this.columns].forEach((element) => { element.addEventListener('mouseover', this.closeItemMouseOver); });\n    [...this.columns].forEach((element) => { element.addEventListener('mouseout', this.closeItemMouseOut); });\n    [...this.columns].forEach((element) => { element.addEventListener('mousedown', this.dragStart); });\n  }\n\n  render() {\n    for (const column of this.columns) {\n      column.innerHTML = '';\n    }\n\n    if (this.tasks.length) {\n      for (let i = 0; i < this.columns.length; i += 1) {\n        this.tasks[i].forEach((item) => {\n          const itemNode = document.createElement('li');\n          itemNode.classList.add('boards__item');\n          itemNode.innerText = item;\n          this.columns[i].append(itemNode);\n        });\n      }\n    }\n  }\n\n  addItem(event) {\n    const addForm = document.createElement('form');\n    addForm.classList.add('boards__add_form');\n    addForm.innerHTML = `\n\t  <textarea class=\"boards__add_textarea\" placeholder=\"Inter a title for this card...\"></textarea>\n\t  <div class=\"boards__add_controls\">\n\t\t <button class=\"boards__add_button\">Add card</button>\n\t\t <div class=\"boards__add_close\">âœ•</div>\n\t  </div>`;\n    event.target.replaceWith(addForm);\n\n    addForm.addEventListener('submit', this.addItemSubmit);\n    const closeFormElement = addForm.querySelector('.boards__add_close');\n    closeFormElement.addEventListener('click', this.addItemClose);\n  }\n\n  addItemSubmit(event) {\n    event.preventDefault();\n    const textarea = event.target.querySelector('.boards__add_textarea');\n    if (textarea.value) {\n      const currentColumn = event.target.parentElement.querySelector('.boards__list');\n      const columnIndex = [...this.columns].findIndex((column) => column === currentColumn);\n      this.tasks[columnIndex].push(textarea.value);\n      this.render();\n      event.target.replaceWith(this.add[columnIndex]);\n    } else {\n      const error = document.createElement('div');\n      error.classList.add('boards__add_error');\n      error.innerText = \"You didn't write anything\";\n      textarea.after(error);\n      error.style.top = `${textarea.offsetTop + textarea.offsetHeight - error.offsetHeight}px`;\n      setTimeout(() => error.remove(), 2000);\n    }\n  }\n\n  addItemClose(event) {\n    const currentColumn = event.target.closest('.boards__column').querySelector('.boards__list');\n    const columnIndex = [...this.columns].findIndex((column) => column === currentColumn);\n    event.target.closest('.boards__add_form').replaceWith(this.add[columnIndex]);\n  }\n\n  closeItemMouseOver(event) {\n    if (!event.target.classList.contains('boards__item')) {\n      return;\n    }\n    if (event.relatedTarget && event.relatedTarget.parentNode === event.target) {\n      return;\n    }\n    if (this.draggedElement) {\n      return;\n    }\n    const closeItemElement = document.createElement('div');\n    closeItemElement.classList.add('boards__close');\n    event.target.append(closeItemElement);\n    const coords = event.target.getBoundingClientRect();\n    closeItemElement.style.top = `${window.scrollY + coords.top}px`;\n    closeItemElement.style.left = `${window.scrollX + coords.left + event.target.offsetWidth - closeItemElement.offsetWidth}px`;\n\n    closeItemElement.addEventListener('click', this.closeItem);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  closeItemMouseOut(event) {\n    if (event.relatedTarget.parentNode === event.target) {\n      return;\n    }\n    const closeElement = event.target.querySelector('.boards__close');\n    const closeParentElement = event.target.parentNode.querySelector('.boards__close');\n    if (closeElement) {\n      closeElement.remove();\n    } else if (closeParentElement) {\n      closeParentElement.remove();\n    }\n  }\n\n  closeItem(event) {\n    const itemText = event.target.closest('.boards__item').innerText;\n    const currentColumn = event.target.closest('.boards__column').querySelector('.boards__list');\n    const columnIndex = [...this.columns].findIndex((column) => column === currentColumn);\n    const itemIndex = this.tasks[columnIndex].findIndex((item) => item === itemText);\n    this.tasks[columnIndex].splice(itemIndex, 1);\n    this.render();\n  }\n\n  loadTasks() {\n    const tasksLoaded = localStorage.getItem('boards');\n    if (tasksLoaded) {\n      this.tasks = JSON.parse(tasksLoaded);\n    }\n    this.render();\n  }\n\n  saveTasks() {\n    localStorage.setItem('boards', JSON.stringify(this.tasks));\n  }\n\n  dragStart(event) {\n    if (!event.target.classList.contains('boards__item') || event.which !== 1) {\n      return;\n    }\n    this.targetElement = event.target;\n    this.draggedElement = this.targetElement.cloneNode(true);\n    this.draggedElement.classList.add('boards__dragged');\n    this.draggedElement.querySelector('.boards__close').remove();\n    document.body.append(this.draggedElement);\n\n    this.draggedX = event.pageX - this.targetElement.getBoundingClientRect().x;\n    this.draggedY = event.pageY - this.targetElement.getBoundingClientRect().y;\n    this.draggedElement.style.width = `${this.targetElement.offsetWidth}px`;\n    this.draggedElement.style.height = `${this.targetElement.offsetHeight}px`;\n    this.draggedElement.style.left = `${event.pageX - this.draggedX - 5}px`;\n    this.draggedElement.style.top = `${event.pageY - this.draggedY - 5}px`;\n\n    this.targetElement.style.display = 'none';\n\n    document.addEventListener('mousemove', this.dragMove);\n    [...this.columns].forEach((element) => { element.addEventListener('mousemove', this.dragTakePlace); });\n    [...this.columns].forEach((element) => { element.addEventListener('mouseleave', this.dragPlaceRemove); });\n    document.addEventListener('mouseup', this.dragFinish);\n  }\n\n  dragMove(event) {\n    event.preventDefault();\n    if (!this.draggedElement) {\n      return;\n    }\n    this.draggedElement.style.left = `${event.pageX - this.draggedX - 5}px`;\n    this.draggedElement.style.top = `${event.pageY - this.draggedY - 5}px`;\n  }\n\n  dragTakePlace(event) {\n    if (!this.draggedElement) {\n      return;\n    }\n    const column = event.target.closest('.boards__list');\n    const columnItems = column.querySelectorAll('.boards__item');\n    const allPos = [column.getBoundingClientRect().top];\n    for (const item of columnItems) {\n      allPos.push(item.getBoundingClientRect().top + item.offsetHeight / 2);\n    }\n\n    if (!this.targetPlace) {\n      this.targetPlace = document.createElement('div');\n      this.targetPlace.classList.add('boards__targetplace');\n      this.targetPlace.style.width = `${this.draggedElement.offsetWidth}px`;\n      this.targetPlace.style.height = `${this.draggedElement.offsetHeight}px`;\n    }\n\n    const itemIndex = allPos.findIndex((item) => item > event.pageY);\n    if (itemIndex !== -1) {\n      columnItems[itemIndex - 1].before(this.targetPlace);\n    } else {\n      column.append(this.targetPlace);\n    }\n  }\n\n  dragPlaceRemove() {\n    if (!this.draggedElement) {\n      return;\n    }\n    if (this.targetPlace) {\n      this.targetPlace.remove();\n      this.targetPlace = null;\n    }\n  }\n\n  dragFinish(event) {\n    if (!this.draggedElement) {\n      return;\n    }\n    if (!event.target.closest('.boards__list')) {\n      this.dragClean();\n      return;\n    }\n\n    this.targetPlace.replaceWith(this.targetElement);\n    this.dragClean();\n    this.tasksCollect();\n  }\n\n  dragClean() {\n    this.targetElement.style.display = 'list-item';\n    this.draggedElement.remove();\n    this.draggedElement = null;\n    this.draggedX = null;\n    this.draggedY = null;\n    this.targetPlace = null;\n    document.removeEventListener('mousemove', this.dragMove);\n    [...this.columns].forEach((element) => { element.removeEventListener('mousemove', this.dragTakePlace); });\n    [...this.columns].forEach((element) => { element.removeEventListener('mouseleave', this.dragPlaceRemove); });\n    document.removeEventListener('mouseup', this.dragFinish);\n  }\n\n  tasksCollect() {\n    this.tasks = [[], [], []];\n    for (let i = 0; i < this.columns.length; i += 1) {\n      const tasksElement = this.columns[i].querySelectorAll('.boards__item');\n      for (const task of tasksElement) {\n        this.tasks[i].push(task.innerText);\n      }\n    }\n  }\n}\n"],"names":["boards","constructor","element","this","columns","querySelectorAll","add","tasks","addItem","bind","addItemSubmit","addItemClose","closeItemMouseOver","closeItemMouseOut","closeItem","loadTasks","saveTasks","dragStart","dragMove","dragFinish","dragTakePlace","dragPlaceRemove","init","document","addEventListener","window","render","forEach","column","innerHTML","length","i","item","itemNode","createElement","classList","innerText","append","event","addForm","target","replaceWith","querySelector","preventDefault","textarea","value","currentColumn","parentElement","columnIndex","findIndex","push","error","after","style","top","offsetTop","offsetHeight","setTimeout","remove","closest","contains","relatedTarget","parentNode","draggedElement","closeItemElement","coords","getBoundingClientRect","scrollY","left","scrollX","offsetWidth","closeElement","closeParentElement","itemText","itemIndex","splice","tasksLoaded","localStorage","getItem","JSON","parse","setItem","stringify","which","targetElement","cloneNode","body","draggedX","pageX","x","draggedY","pageY","y","width","height","display","columnItems","allPos","targetPlace","before","dragClean","tasksCollect","removeEventListener","tasksElement","task"],"sourceRoot":""}